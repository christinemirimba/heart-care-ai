rontend/settings.html</path>
<content"><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - HeartCareAI</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <div id="header-placeholder"></div>

    <div class="flex-1 bg-gradient-to-b from-muted-30 to-background">
        <div class="container py-12">
            <div class="max-w-4xl mx-auto">
                <div class="mb-8">
                    <h1 class="text-3xl md:text-4xl font-bold mb-2">Settings</h1>
                    <p class="text-muted-foreground">
                        Manage your account settings and preferences
                    </p>
                </div>

                <div class="grid gap-6">
                    <!-- Account Settings -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Account Information</div>
                            <div class="card-description">
                                Update your personal information
                            </div>
                        </div>
                        <div class="card-content space-y-4">
                            <div class="space-y-2">
                                <label>Username</label>
                                <input id="username-display" type="text" readonly 
                                       style="background-color: hsl(var(--muted));">
                            </div>
                            <div class="space-y-2">
                                <label>Email</label>
                                <input id="email-display" type="email" readonly 
                                       style="background-color: hsl(var(--muted));">
                            </div>
                            <div class="space-y-2">
                                <label>Member Since</label>
                                <input id="member-since-display" type="text" readonly 
                                       style="background-color: hsl(var(--muted));">
                            </div>
                        </div>
                    </div>

                    <!-- Theme Settings -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Theme Preferences</div>
                            <div class="card-description">
                                Customize your interface appearance
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="space-y-4">
                                <div class="space-y-2">
                                    <label>Theme Mode</label>
                                    <select id="theme-select" class="w-full">
                                        <option value="light">Light</option>
                                        <option value="dark">Dark</option>
                                        <option value="system">System</option>
                                    </select>
                                </div>
                                <button onclick="saveTheme()" class="btn btn-primary btn-default">
                                    Save Theme Preference
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Privacy Settings -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Privacy & Security</div>
                            <div class="card-description">
                                Manage your privacy and security settings
                            </div>
                        </div>
                        <div class="card-content space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-medium">Email Notifications</h4>
                                    <p class="text-sm text-muted-foreground">Receive assessment reminders</p>
                                </div>
                                <input type="checkbox" id="email-notifications" checked>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="font-medium">Data Sharing</h4>
                                    <p class="text-sm text-muted-foreground">Help improve our AI with anonymous data</p>
                                </div>
                                <input type="checkbox" id="data-sharing">
                            </div>
                        </div>
                    </div>

                    <!-- Danger Zone -->
                    <div class="card border-destructive">
                        <div class="card-header">
                            <div class="card-title text-destructive">Danger Zone</div>
                            <div class="card-description">
                                Irreversible actions
                            </div>
                        </div>
                        <div class="card-content space-y-4">
                            <div class="p-4 rounded-lg bg-destructive-10">
                                <h4 class="font-medium text-destructive mb-2">Delete Account</h4>
                                <p class="text-sm text-muted-foreground mb-4">
                                    Permanently delete your account and all assessment data. This action cannot be undone.
                                </p>
                                <button onclick="confirmDeleteAccount()" class="btn btn-destructive btn-default">
                                    Delete My Account
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/api.js"></script>
    <script>
        // Load header and footer
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            if (!window.authManager || !window.authManager.requireAuth()) {
                return;
            }

            // Load header
            fetch('includes/header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-placeholder').innerHTML = html;
                    setTimeout(() => {
                        if (window.updateAuthUI) {
                            window.updateAuthUI();
                        }
                    }, 100);
                })
                .catch(error => console.error('Error loading header:', error));

            // Load footer
            fetch('includes/footer.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('footer-placeholder').innerHTML = html;
                })
                .catch(error => console.error('Error loading footer:', error));

            // Load user data
            loadUserData();
            
            // Set theme select
            const currentTheme = localStorage.getItem('theme') || 'system';
            document.getElementById('theme-select').value = currentTheme;
        });

        function loadUserData() {
            const user = window.authManager.getUser();
            if (user) {
                document.getElementById('username-display').value = user.username;
                document.getElementById('email-display').value = user.email;
                document.getElementById('member-since-display').value = new Date(user.created_at || Date.now()).toLocaleDateString();
            }
        }

        function saveTheme() {
            const themeSelect = document.getElementById('theme-select');
            const selectedTheme = themeSelect.value;
            
            // Save to localStorage
            localStorage.setItem('theme', selectedTheme);
            
            // Apply theme
            if (window.themeManager) {
                window.themeManager.theme = selectedTheme;
                window.themeManager.applyTheme();
                window.themeManager.updateToggleButton();
            }
            
            window.toastManager.success('Theme preference saved successfully!');
        }

        function confirmDeleteAccount() {
            const confirmed = confirm(
                'Are you absolutely sure? This will permanently delete your account and all assessment data. This action cannot be undone.'
            );
            
            if (confirmed) {
                const doubleConfirmed = confirm(
                    'This is your final warning. Once you click OK, your account will be permanently deleted. Are you sure?'
                );
                
                if (doubleConfirmed) {
                    deleteAccount();
                }
            }
        }

        async function deleteAccount() {
            try {
                // In a real implementation, you would call an API endpoint
                // For now, we'll just clear localStorage and redirect
                localStorage.clear();
                window.toastManager.info('Account deletion requested. You will be logged out.');
                
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 2000);
                
            } catch (error) {
                console.error('Error deleting account:', error);
                window.toastManager.error('Failed to delete account. Please contact support.');
            }
        }
    </script>
</body>
</html>
